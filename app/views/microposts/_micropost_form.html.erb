<%= form_with model: @micropost, local: true do |f| %>
  <%= render 'layouts/error_messages', object: f.object %>
  <div class = 'form-group'>
    <%= f.label :タイトル %>　<span class="input-need">※必須</span>
    <%= f.text_field :name, class: 'form-control', id: 'タイトル' %>
  </div>
  <div class = 'form-group'>
    <%= f.label :チーム名 %>　<span class="input-unneed">※任意</span>
    <%= f.text_field :team, class: 'form-control', id: 'チーム名' %>
  </div>
  <div class = 'form-group'>
    <%= f.label :風向風速 %>　<span class="input-unneed">※任意</span>
    <%= f.text_field :wind, class: 'form-control', id: '風向風速' %>
  </div>
  <div class = 'form-group'>
    <%= f.label :内容（練習メニューなど） %>　<span class="input-unneed">※任意</span>
    <%= f.text_field :description, class: 'form-control', id: '内容（練習メニューなど）' %>
  </div>
  <div class = 'form-group'>
    <%= f.label :練習時間 %>　<span class="input-unneed">※任意</span>
    <%= f.text_field :time, class: 'form-control', id: '練習時間' %>
  </div>
  <div class = 'form-group'>
    <%= f.label :整備箇所 %>　<span class="input-unneed">※任意</span>
    <%= f.text_field :maintenance, class: 'form-control', id: '整備箇所' %>
  </div>
  <span class="picture">
    <%= f.label :写真 %>　<span class="input-unneed">※任意</span>
    <%= f.file_field :picture, accept: 'image/jpeg,image/png', class: 'form-control', id: 'micropost_picture' %>
  </span>
  <%= f.fields_for :settings do |i| %>
    <div class="row">
      <div class="col-md-9">
        <div class = 'form-group'>
          <%= i.label :name %>　<span class="input-unneed">※任意</span>
          <%= i.text_field :name, class: 'form-control setting_name' %>
        </div>
      </div>
      <div class="col-md-3">
        <div class = 'form-group'>
          <%= i.label :value %>　<span class="input-unneed">※任意</span>
          <%= i.text_field :value, class: 'form-control setting_value' %>
        </div>
      </div>
    </div>
  <% end %>
  <%= render partial: "setting_form", locals: {f: f} %>
  <%= render partial: "setting_form", locals: {f: f} %>
  <%= render partial: "setting_form", locals: {f: f} %>
  <%= render partial: "setting_form", locals: {f: f} %>
  <%= render partial: "setting_form", locals: {f: f} %>
  <%= render partial: "setting_form", locals: {f: f} %>
  <%= render partial: "setting_form", locals: {f: f} %>
  <%= render partial: "setting_form", locals: {f: f} %>
  <%= render partial: "setting_form", locals: {f: f} %>
  <%= f.submit nil, class: 'btn btn-primary' %>
<% end %>

<script type="text/javascript">
  $('#micropost_picture').bind('change', function() {
    var size_in_megabytes = this.files[0].size/1024/1024;
    if (size_in_megabytes > 5) {
      alert('アップロードできる写真の最大サイズは5MBです。5MB以下の画像を選択してください');
    }
  });
</script>